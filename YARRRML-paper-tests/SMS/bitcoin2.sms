PREFIX : <http://example.com/>
 
MAPPING
FROM JSON {
 {
   "hash" : "?hash",
   "time2" : "?time",
   "block_index2" : "?block_index",
   "height2" : "?height",
   "txIndexes2" : [ "?txIndex" ],
 }
}
TO {
 ?block a :Block ;
   :hash ?hash ;
   :time ?dateTime ;
   :height ?height ;
   :includesTx ?tx .
?tx a :Tx ;
    :index ?txIndex ;
    :ex ?test .
}
WHERE {
 bind(xsd:dateTime(?time) as ?dateTime)
 bind(template("http://example.com/tx/{txIndex}") as ?tx)
 bind(template("http://example.com/block/{hash}") as ?block)
 bind(lcase("http://example.com/BLOCK/") as ?test)
}